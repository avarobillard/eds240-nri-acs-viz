---
title: "HW #3"
subtitle: "Visualizing FEMA NRI and ACS Data"
author: "Ava Robillard"
date: 2/7/26
format: pdf
---

## Key Question: How does climate hazard risk exposure vary across racial / ethnic groups in California? 

#### Load packages
```{r}
#| message: FALSE
library(here)
library(tidyverse)
library(tidycensus)
library(janitor)
```

#### Import data
```{r}
#| message: FALSE
#| warning: FALSE
# #....Step 1a: see all available ACS variables + descriptions.....
# acs_vars <- tidycensus::load_variables(year = 2023,
#                                        dataset = "acs1")
# 
# #..............Step 1b: import race & ethnicity data.............
# race_ethnicity <- tidycensus::get_acs(
#   geography = "county",
#   survey = "acs1",
#   # NOTE: you may not end up using all these variables
#   variables = c("B01003_001", "B02001_002", "B02001_003", 
#                 "B02001_004", "B02001_005", "B02001_006",
#                 "B02001_007", "B02001_008", "B03002_012",
#                 "B03002_002"),
#   state = "CA", 
#   year = 2023) |>
#   # join variable descriptions (so we know what's what!)
#   dplyr::left_join(acs_vars, by = dplyr::join_by(variable == name)) 
# 
# #.................Step 2: write ACS data to file.................
# readr::write_csv(race_ethnicity, here::here("data", "ACS-1yr-2023-county-race-ethnicity.csv"))

#..................Step 3: read in your CSV file.................
race_ethnicity <- readr::read_csv(here::here("data", "ACS-1yr-2023-county-race-ethnicity.csv"))


# Import NRI data
nri_ca <- read_csv(here("data", "National_Risk_Index_Counties_807384124455672111.csv")) %>% 
  clean_names() %>% 
  # Remove unwanted territories and districts
  filter(state_name == "California")
```

#### Build visualization 
```{r}
# Join NRI and ACS data
full_data <- left_join(race_ethnicity, nri_ca, by = c("GEOID" = "state_county_fips_code"))
```




## Questions: 

1. What are your variables of interest and what kinds of data (e.g. numeric, categorical, ordered, etc.) are they (a bullet point list is fine)?

2. How did you decide which type of graphic form was best suited for answering the question? What alternative graphic forms could you have used instead? Why did you settle on this particular graphic form?

3. Summarize your main finding in no more than two sentences.

4. What modifications did you make to this visualization to make it more easily readable?

5. Is there anything you wanted to implement, but didnâ€™t know how? If so, please describe.